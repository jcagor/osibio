<div class="tabs">
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">    
      <mat-tab  label="Proyectos">
        <section class="example-container mat-elevation-z8" tabindex="0">
          <section>
            <div class="example-button-row">
              <div class="example-flex-container">
                <div class="example-button-container">
                  <button matTooltip="Descarga general" matTooltipPosition="above" style="float: right;right: 25px;" mat-fab color="primary" (click)="exportAsXLSX(undefined,'Proyectos')" aria-label="Example icon button with a delete icon">
                    <mat-icon>expand_circle_down</mat-icon>
                  </button>
                  <button matTooltip="Estados" matTooltipPosition="above" style="float: right;right: 35px;top:8px" mat-mini-fab color="primary" (click)="openDialogoEstadistica(proyectosData,'Proyectos',false)" aria-label="Example icon button with a delete icon">
                    <mat-icon>data_usage</mat-icon>
                  </button>
                  <button matTooltip="Procesos" matTooltipPosition="above" style="float: right;right: 45px;top:8px" mat-mini-fab color="primary" (click)="openDialogoEstadistica(proyectosData,'Proyectos',true)" aria-label="Example icon button with a delete icon">
                    <mat-icon>pie_chart</mat-icon>
                  </button>
                </div>
              </div>
            </div>
          </section>
          <table mat-table [dataSource]="dataSourceProyecto" >
            <!-- Nombre Column -->
            <ng-container matColumnDef="codigo">
                <th mat-header-cell *matHeaderCellDef> Código </th>
                <td mat-cell *matCellDef="let proyecto"> {{ proyecto.codigo }}</td>
            </ng-container>
            <!-- Lider Column -->
            <ng-container matColumnDef="lider">
                <th mat-header-cell *matHeaderCellDef> Lider </th>
                <td mat-cell *matCellDef="let proyecto"> {{ proyecto.investigador}} </td>
            </ng-container>
            <!-- Estado Column -->
            <ng-container matColumnDef="estadoProceso">
                <th mat-header-cell *matHeaderCellDef> Proceso </th>
                <td mat-cell *matCellDef="let proyecto"> {{ proyecto.estadoProceso }} </td>
            </ng-container>
            <ng-container matColumnDef="estadoProyecto">
              <th mat-header-cell *matHeaderCellDef> Estado </th>
              <td mat-cell *matCellDef="let proyecto"> {{ proyecto.estadoProyecto }} </td>
            </ng-container>
            <ng-container matColumnDef="created_at">
                <th mat-header-cell *matHeaderCellDef> Fecha Creación </th>
                <td mat-cell *matCellDef="let proyecto"> {{ proyecto.created_at | date:'medium' }} </td>
            </ng-container>
            <ng-container matColumnDef="updated_at">
                <th mat-header-cell *matHeaderCellDef> Fecha Modificación </th>
                <td mat-cell *matCellDef="let proyecto"> {{ proyecto.updated_at | date:'medium'  }} </td>
            </ng-container>
            <ng-container matColumnDef="accion">
                <th mat-header-cell *matHeaderCellDef> Acción </th>
                <td mat-cell *matCellDef="let proyecto">
                    <button  matTooltip="Descargar" matTooltipPosition="above" mat-icon-button color="primary" (click)="exportAsXLSX(proyecto,'Proyectos')">
                        <mat-icon>download</mat-icon>
                    </button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumnsProyecto"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsProyecto;"></tr>
          </table>
          <mat-paginator #paginatorProyecto [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements"></mat-paginator>
        </section>
      </mat-tab>
      <mat-tab label="Productos">
          <section class="example-container mat-elevation-z8" tabindex="0">
            <section>
              <div class="example-button-row">
                <div class="example-flex-container">
                  <div class="example-button-container">
                    <button matTooltip="Descarga general" matTooltipPosition="above" style="float: right;right: 25px;" mat-fab color="accent" (click)="exportAsXLSX(undefined,'Productos')" aria-label="Example icon button with a delete icon">
                      <mat-icon>expand_circle_down</mat-icon>
                    </button>
                    <button matTooltip="Estados" matTooltipPosition="above" style="float: right;right: 35px;top:8px" mat-mini-fab color="accent" (click)="openDialogoEstadistica(productosData,'Productos',false)" aria-label="Example icon button with a delete icon">
                      <mat-icon>data_usage</mat-icon>
                    </button>
                    <button matTooltip="Procesos" matTooltipPosition="above" style="float: right;right: 45px;top:8px" mat-mini-fab color="accent" (click)="openDialogoEstadistica(productosData,'Productos',true)" aria-label="Example icon button with a delete icon">
                      <mat-icon>pie_chart</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </section>
            <table mat-table [dataSource]="dataSourceProducto">
                <!-- Nombre Column -->
                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef> Nombre </th>
                    <td mat-cell *matCellDef="let producto"> {{ producto.id }} </td>
                </ng-container>
                <!-- Lider Column -->
                <ng-container matColumnDef="lider">
                    <th mat-header-cell *matHeaderCellDef> Lider </th>
                    <td mat-cell *matCellDef="let producto"> {{ producto.investigador}} </td>
                </ng-container>
                <ng-container matColumnDef="estadoProceso">
                    <th mat-header-cell *matHeaderCellDef> Proceso </th>
                    <td mat-cell *matCellDef="let producto"> {{ producto.estadoProceso }} </td>
                </ng-container>
                <ng-container matColumnDef="estadoProducto">
                  <th mat-header-cell *matHeaderCellDef> Estado </th>
                  <td mat-cell *matCellDef="let proyecto"> {{ proyecto.estadoProducto }} </td>
                </ng-container>
                <ng-container matColumnDef="updated_at">
                    <th mat-header-cell *matHeaderCellDef> Fecha Modificación </th>
                    <td mat-cell *matCellDef="let producto"> {{ producto.updated_at | date:'medium'  }} </td>
                </ng-container>
                <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef> Fecha Creación </th>
                    <td mat-cell *matCellDef="let producto"> {{ producto.created_at | date:'medium' }} </td>
                </ng-container>
                <ng-container matColumnDef="accion">
                    <th mat-header-cell *matHeaderCellDef> Acción </th>
                    <td mat-cell *matCellDef="let producto">
                        <button matTooltip="Descargar" matTooltipPosition="above" mat-icon-button color="accent" (click)="exportAsXLSX(producto,'Productos')">
                            <mat-icon>download</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumnsProducto"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsProducto;"></tr>
            </table>
            <mat-paginator #paginatorProducto [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements"></mat-paginator>
          </section>
      </mat-tab>
      <mat-tab label="Investigadores">
        <section class="example-container mat-elevation-z8" tabindex="0">
          <section>
            <div class="example-button-row">
              <div class="example-flex-container">
                <div class="example-button-container">
                  <button matTooltip="Descarga general" matTooltipPosition="above" style="float: right;right: 25px;" mat-fab color="warn" (click)="exportAsXLSX(undefined,'Investigadores')" aria-label="Example icon button with a delete icon">
                    <mat-icon>expand_circle_down</mat-icon>
                  </button>
                  <button matTooltip="Roles" matTooltipPosition="above" style="float: right;right: 35px;top:8px" mat-mini-fab color="warn" (click)="openDialogoEstadistica(investigadoresData,'Investigadores',false)" aria-label="Example icon button with a delete icon">
                    <mat-icon>data_usage</mat-icon>
                  </button>
                </div>
              </div>
            </div>
          </section>
          <table mat-table [dataSource]="dataSourceInvestigador">
              <!-- Nombre Column -->
              <ng-container matColumnDef="nombre">
                  <th mat-header-cell *matHeaderCellDef> Nombre </th>
                  <td mat-cell *matCellDef="let usuario"> {{ usuario.nombre }} {{ usuario.apellidos }}  </td>
              </ng-container>
              <!-- Rol Column -->
              <ng-container matColumnDef="rolinvestigador">
                  <th mat-header-cell *matHeaderCellDef> Rol</th>
                  <td mat-cell *matCellDef="let usuario">
                      {{ usuario.rolinvestigador }}
                  </td>
              </ng-container>
              <!-- Estado Column -->
              <ng-container matColumnDef="estado">
                  <th mat-header-cell *matHeaderCellDef> Estado </th>
                  <td mat-cell *matCellDef="let usuario">
                    {{ usuario.estado ? 'Activo' : 'Inactivo' }}
                </td>
              </ng-container>
              <ng-container matColumnDef="created_at">
                  <th mat-header-cell *matHeaderCellDef> Fecha Creación </th>
                  <td mat-cell *matCellDef="let usuario"> {{ usuario.created_at | date:'medium' }} </td>
              </ng-container>
              <ng-container matColumnDef="updated_at">
                  <th mat-header-cell *matHeaderCellDef> Fecha Modificación </th>
                  <td mat-cell *matCellDef="let usuario"> {{ usuario.updated_at | date:'medium'  }} </td>
              </ng-container>
              <ng-container matColumnDef="accion">
                <th mat-header-cell *matHeaderCellDef> Acción </th>
                <td mat-cell *matCellDef="let usuario">
                    <button matTooltip="Descargar" matTooltipPosition="above" mat-icon-button color="warn" (click)="exportAsXLSX(usuario,'Investigadores')">
                        <mat-icon>download</mat-icon>
                    </button>
                </td>
            </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumnsInvestigador"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumnsInvestigador;"></tr>
          </table>
          <mat-paginator #paginatorInvestigador [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements"></mat-paginator>
        </section>
    </mat-tab>
  </mat-tab-group>
</div>
