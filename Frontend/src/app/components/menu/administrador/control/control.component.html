<div class="tabs">
    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
        <mat-tab label="Investigadores">
            <section class="example-container mat-elevation-z8" tabindex="0">
                <table mat-table [dataSource]="dataSource">
                    <!-- Nombre Column -->
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef> Nombre </th>
                        <td mat-cell *matCellDef="let usuario"> {{ usuario.nombre }} {{ usuario.apellidos }}  </td>
                    </ng-container>
                    <!-- Rol Column -->
                    <ng-container matColumnDef="rolinvestigador">
                        <th mat-header-cell *matHeaderCellDef> Rol</th>
                        <td mat-cell *matCellDef="let usuario">
                            <button mat-icon-button color="primary" (click)="cambiarRol(usuario, 'Investigador')" *ngIf="usuario.rolinvestigador !== 'Investigador'">
                                <mat-icon>touch_app</mat-icon>
                            </button>
                            <button mat-icon-button color="primary" (click)="cambiarRol(usuario, 'Administrador')" *ngIf="usuario.rolinvestigador !== 'Administrador'">
                                <mat-icon>touch_app</mat-icon>
                            </button>
                            {{ usuario.rolinvestigador }}
                        </td>
                    </ng-container>
                    <!-- Estado Column -->
                    <ng-container matColumnDef="estado">
                        <th mat-header-cell *matHeaderCellDef> Estado </th>
                        <td mat-cell *matCellDef="let usuario">
                            <mat-slide-toggle [(ngModel)]="usuario.estado" (toggleChange)="cambiarEstado(usuario)"></mat-slide-toggle>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="created_at">
                        <th mat-header-cell *matHeaderCellDef> Fecha Creación </th>
                        <td mat-cell *matCellDef="let usuario"> {{ usuario.created_at | date:'medium' }} </td>
                    </ng-container>
                    <ng-container matColumnDef="updated_at">
                        <th mat-header-cell *matHeaderCellDef> Fecha Modificación </th>
                        <td mat-cell *matCellDef="let usuario"> {{ usuario.updated_at | date:'medium'  }} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="['nombre', 'rolinvestigador', 'estado','updated_at','created_at']; sticky: true"></tr>
                    <tr mat-row *matRowDef="let usuario; columns: ['nombre', 'rolinvestigador', 'estado','updated_at','created_at'];"></tr>
                </table>
            </section>
        </mat-tab>
        <mat-tab label="Proyectos">
            <section class="example-container mat-elevation-z8" tabindex="0">
                <table mat-table [dataSource]="dataSource2">
                    <!-- Nombre Column -->
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef> Nombre </th>
                        <td mat-cell *matCellDef="let proyecto"> {{ proyecto.nombre }} </td>
                    </ng-container>
                    <!-- Lider Column -->
                    <ng-container matColumnDef="lider">
                        <th mat-header-cell *matHeaderCellDef> Lider </th>
                        <td mat-cell *matCellDef="let proyecto"> {{ proyecto.lider }} </td>
                    </ng-container>
                    <!-- Estado Column -->
                    <ng-container matColumnDef="estado">
                        <th mat-header-cell *matHeaderCellDef> Estado </th>
                        <td mat-cell *matCellDef="let proyecto"> {{ proyecto.estado }} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="['nombre', 'lider', 'estado']; sticky: true"></tr>
                    <tr mat-row *matRowDef="let proyecto; columns: ['nombre', 'lider', 'estado'];"></tr>
                </table>
            </section>
        </mat-tab>
        <mat-tab label="Productos">
            <section class="example-container mat-elevation-z8" tabindex="0">
                <table mat-table [dataSource]="dataSource3">
                    <!-- Nombre Column -->
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef> Nombre </th>
                        <td mat-cell *matCellDef="let producto"> {{ producto.nombre }} </td>
                    </ng-container>
                    <!-- Lider Column -->
                    <ng-container matColumnDef="lider">
                        <th mat-header-cell *matHeaderCellDef> Lider </th>
                        <td mat-cell *matCellDef="let producto"> {{ producto.lider }} </td>
                    </ng-container>
                    <!-- Estado Column -->
                    <ng-container matColumnDef="estado">
                        <th mat-header-cell *matHeaderCellDef> Estado </th>
                        <td mat-cell *matCellDef="let producto"> {{ producto.estado }} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="['nombre', 'lider', 'estado']; sticky: true"></tr>
                    <tr mat-row *matRowDef="let producto; columns: ['nombre', 'lider', 'estado'];"></tr>
                </table>
            </section>
        </mat-tab>
    </mat-tab-group>
</div>
